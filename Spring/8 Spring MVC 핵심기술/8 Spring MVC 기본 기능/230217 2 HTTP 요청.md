# HTTP ìš”ì²­

## âœï¸Â ìš”ì²­ Mapping - API

- CRUD ìš”ì²­ì„ mapping í•˜ê³  API íƒ€ì…ìœ¼ë¡œ ë°˜í™˜í•œë‹¤.
- ê³µí†µ ê²½ë¡œë¥¼ `@RequestMapping` ì— ì €ì¥í•˜ê³  ê° method ëŠ” ê²½ë¡œë³€ìˆ˜ë§Œ ë°›ì•„ì¤€ë‹¤.

```java
package hello.springmvc.basic.requestmapping;

import org.springframework.web.bind.annotation.*;

@RestController
@RequestMapping("/mapping/users")
public class MappingClassController {

    @GetMapping
    public String user() {
        return "get users";
    }

    @PostMapping
    public String addUser() {
        return "post user";
    }

    @GetMapping("/{userId}")
    public String findUser(@PathVariable String userId) {
        return "get userId";
    }

    @PatchMapping("/{userId}")
    public String updateUser(@PathVariable String userId) {
        return "update userId = " + userId;
    }

    @DeleteMapping("/{userId}")
    public String deleteUser(@PathVariable String userId) {
        return "delete userId = " + userId;
    }
}
```

<br>

## âœï¸Â í—¤ë” ê¸°ë³¸ê°’ ì¡°íšŒ

Controller ì—ì„œ ìš”ì²­ë°›ì€ HTML ì˜ Header ì •ë³´ë¥¼ ì¡°íšŒí•˜ëŠ” ë°©ë²•

```java
@RequestMapping("/headers")
public String headers(HttpServletRequest request, // ìš”ì²­ ê°’
                      HttpServletResponse response, // ì‘ë‹µ
                      HttpMethod httpMethod, // http method
                      Locale locale, // ì–¸ì–´ ì •ë³´ (ê°€ì¥ ìš°ì„ ìˆœìœ„ê°€ ë†’ì€ ì–¸ì–´ê°€ ë³€ìˆ˜ì— ë‹´ê¸´ë‹¤.)
                      @RequestHeader MultiValueMap<String, String> headerMap, // ëª¨ë“  header ì •ë³´ ì¡°íšŒ
                      @RequestHeader("host") String host, // íŠ¹ì • header ì •ë³´ ì¡°íšŒ (host) ë¥¼ ì¡°íšŒí•¨
                      @CookieValue(value = "myCookie", required = false) String cookie // ì¿ ê¸° ì¡°íšŒ
){
        log.info("request = {}", request);
        log.info("response = {}", response);
        log.info("httpMethod = {}", httpMethod);
        log.info("locale = {}", locale);
        log.info("headerMap = {}", headerMap);
        log.info("header host = {}", host);
        log.info("myCookie = {}", cookie);

        return "ok";
    }
```

ğŸ”Â ì¶œë ¥ í™•ì¸

```java
... : request = org.apache.catalina.connector.RequestFacade@68c12dc8
... : response = org.apache.catalina.connector.ResponseFacade@116a9a51
... : httpMethod = GET
... : locale = ko_KR
... : headerMap = {host=[localhost:8080], accept=[text/html,application/xhtml+xml,application/xml;q=0.9,**;q=0.8], upgrade-insecure-requests=[1], cookie=[JSESSIONID=18F04443EDE5964689315F9C1C730E04; Idea-59ed549d=e9f7163f-b84b-422b-b9e0-2e7da3360da5], user-agent=[Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Safari/605.1.15], accept-language=[ko-KR,ko;q=0.9], accept-encoding=[gzip, deflate], connection=[keep-alive]}
... : header host = localhost:8080
... : myCookie = null
```

<br>

### ğŸ’¡Â ì´ ë°–ì˜ ì¡°íšŒí•  ìˆ˜ ìˆëŠ” Header ì •ë³´ë“¤

[ğŸ”—Â Spring ê³µì‹ í™ˆ - @Controller ì˜ ì‚¬ìš©ê°€ëŠ¥í•œ Parameter ëª©ë¡](https://docs.spring.io/spring-framework/docs/current/reference/html/web.html#mvc-ann-)

- Method Argument ê²€ìƒ‰í•˜ë©´ ëª©ë¡ì´ ë‚˜ì˜¨ë‹¤.