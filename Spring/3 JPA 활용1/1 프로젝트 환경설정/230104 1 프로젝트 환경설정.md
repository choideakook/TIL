# í”„ë¡œì íŠ¸ í™˜ê²½ì„¤ì •

## âœï¸Â í”„ë¡œì íŠ¸ ìƒì„±

- Gradle Groovy
- Spring Boot 2.7.7
- Java 11
- Dependencies
    - Spring web
    - Thymeleaf
    - jpa
    - H2 Database
    - Lombok
    - Spring boot devtools

## âœï¸Â ì´ˆê¸°ì„¸íŒ…

ğŸ”—Â ì´ˆê¸°ì„¸íŒ… ë°”ë¡œê°€ê¸°

<br>

## âœï¸Â ë¼ì´ë¸ŒëŸ¬ë¦¬

### ğŸ“Â í•µì‹¬ ë¼ì´ë¸ŒëŸ¬ë¦¬

- Spring MVC
- Spring ORM
- JPA & Hibernate
- Spring Data JPA

### ğŸ“Â ê¸°íƒ€ ë¼ì´ë¸ŒëŸ¬ë¦¬

- H2 Database Client
- Connection pool : Boot ê¸°ë³¸ì€ HikariCP
- WEB ( Thymeleaf )
- ë¡œê¹… SLF4J & LogBack
- Test

## âœï¸Â View í™˜ê²½ì„¤ì •

- Controller

```java
package jpabook.jpashop;

import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.GetMapping;

@Controller
public class HelloController {

    @GetMapping ("Hello")
    public String hello(Model model) {
        model.addAttribute("data", "ì¼€ì¼€ì¼€");
        return "hello";
    }
}
```

- templates html

```html
<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Hello</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
</head>
<body>
<p th:text="'ì•ˆë…•í•˜ì„¸ìš” ' + ${data}">ì•ˆë…•í•˜ì„¸ìš” ì†ë‹˜</p>
</body>
</html>
```

ì˜ ì‘ë™ëœë‹¤.

### ğŸ“Â devtools ë¡œ ë¹ ë¥¸ update í•˜ê¸°

html íŒŒì¼ì„ ë³€ê²½ í›„ update ë¥¼ í™•ì¸í•˜ë ¤ë©´ ì»´íŒŒì¼ëŸ¬ë¥¼ ì¬ì‹¤í–‰ í•´ì•¼í–ˆì§€ë§Œ,

devtools ë¥¼ ì‚¬ìš©í•˜ê³  ìˆìœ¼ë©´ ê°„ë‹¨í•˜ê²Œ update í•  ìˆ˜ ìˆë‹¤.

- ë‹¨ì¶•í‚¤ : S C F9

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2023-01-03 á„‹á…©á„Œá…¥á†« 10.55.52.png](%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%8C%E1%85%A6%E1%86%A8%E1%84%90%E1%85%B3%20%E1%84%92%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A7%E1%86%BC%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8C%E1%85%A5%E1%86%BC%200a49abde8e45481dbd265d52bce1df0c/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-01-03_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%258C%25E1%2585%25A5%25E1%2586%25AB_10.55.52.png)

devtools ê°€ import ë˜ì–´ìˆë‹¤ë©´ log ê°€ restartedMain ìœ¼ë¡œ ì¶œë ¥ëœë‹¤.

## âœï¸ JPA, DB ì„¤ì •ê³¼ ë™ì‘í™•ì¸

[ğŸ”—Â H2 ì„¤ì¹˜ì™€ ì‹¤í–‰ë°©ë²•](https://github.com/choideakook/TIL/blob/main/Spring/1%20Spring%20ì…ë¬¸/4%20Spring%20DB%20ì ‘ê·¼%20ê¸°ìˆ /221214%20h2%20ë°ì´í„°%20ê¸°ë³¸%20ì‘ë™%20ë°©ë²•.md)

<br>

### ğŸ“Â application ì„¤ì •

main.resources ì— [application.propert](http://application.property)ies ì˜ í™•ì¥ì [propert](http://application.property)ies ë¥¼ yml ë¡œ rename í•´ì¤€ë‹¤.

- application ì„¤ì •í•˜ê¸°

```yaml
spring:
# db ì»¤ë„¥í„° ì„¸íŒ…
  datasource:
# DB url ì£¼ì†Œì…ë ¥ ; MVCC=TRUE ëŒ€ìš©ëŸ‰ ë°ì´í„°ì˜ ì ‘ê·¼ì„ ë¹ ë¥´ê²Œ ì²˜ë¦¬í•  ìˆ˜ ìˆìŒ
    url: jdbc:h2:tcp://localhost/~/jpashop
    username: sa
    password:
    driver-class-name: org.h2.Driver
    
# jpa ì„¸íŒ…
  jpa:
    hibernate:
# app ì‹¤í–‰ ì‹œì ì— ìë™ìœ¼ë¡œ table ì„ ë§Œë“¤ì–´ì¤Œ
      ddl-auto: create
    properties:
      hibernate:
# show_sql: true ëŠ” Sysyem.out.print ë¡œ ì¶œë ¥í•˜ëŠ” ê¸°ëŠ¥ (log ë¡œ ì¶œë ¥í• êº¼ë¼ ì½”ë“œ ë¹„í™œì„±í™”)
#        show_sql: true
        format_sql: true
        
logging:
  level:
# hibernate ê°€ ë‚¨ê¸°ëŠ” ëª¨ë“  ë¡œê·¸ë“¤ì„ ë””ë²„ê·¸ ëª¨ë“œë¡œì‚¬ìš© (log ë¡œ ì¶œë ¥ ê°€ëŠ¥í•´ì§)
    org.hibernate.SQL: debug
```

### â—ï¸ ë„ì–´ì“°ê¸° ì£¼ì˜

- ë„ì–´ì“°ê¸° 2 = Tap 1

```yaml
spring: #ë„ì–´ì“°ê¸° ì—†ìŒ
	datasource: #ë„ì–´ì“°ê¸° 2ì¹¸#
		url: jdbc:h2:tcp://localhost/~/jpashop #4ì¹¸
		username: sa
		password:
		driver-class-name: org.h2.Driver

	jpa: #ë„ì–´ì“°ê¸° 2ì¹¸
		hibernate: #ë„ì–´ì“°ê¸° 4ì¹¸
			ddl-auto: create #ë„ì–´ì“°ê¸° 6ì¹¸ 
		properties: #ë„ì–´ì“°ê¸° 4ì¹¸
			hibernate: #ë„ì–´ì“°ê¸° 6ì¹¸ 
#				show_sql: true #ë„ì–´ì“°ê¸° 8ì¹¸
				format_sql: true #ë„ì–´ì“°ê¸° 8ì¹¸

logging.level: #ë„ì–´ì“°ê¸° ì—†ìŒ 
	org.hibernate.SQL: debug #ë„ì–´ì“°ê¸° 2ì¹¸
# org.hibernate.type: trace #ë„ì–´ì“°ê¸° 2ì¹¸
```
