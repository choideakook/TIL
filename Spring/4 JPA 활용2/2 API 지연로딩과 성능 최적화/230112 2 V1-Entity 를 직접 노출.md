# V1-Entity ë¥¼ ì§ì ‘ ë…¸ì¶œ

## âœï¸Â Â ì§€ì—° ë¡œë”©ê³¼ ì¡°íšŒ ì„±ëŠ¥ ìµœì í™” 01

ì´ì „ì— ë§Œë“¤ì–´ë‘” ê²€ìƒ‰ê¸°ëŠ¥ì„ í™œìš©í•¨

[ğŸ”—Â ì£¼ë¬¸ ê²€ìƒ‰ ê¸°ëŠ¥ ë§Œë“¤ê¸°](https://github.com/choideakook/TIL/blob/main/Spring/3%20JPA%20í™œìš©1/3%20Application%20ê°œë°œ/230108%203%20ì£¼ë¬¸%20ê²€ìƒ‰%20ê¸°ëŠ¥.md)

- ì´ ë¡œì§ìœ¼ë¡œ ì‹¤í–‰í•˜ê²Œ ë˜ë©´ ë¬´í•œ ë£¨í”„ì— ë¹ ì €ì„œ ì˜¤ë¥˜ê°€ ë‚˜ê³ ë§Œë‹¤.
    - Entity ê°€ í•„ë“œê°’ì„ í™•ì¸í•˜ë ¤ í•˜ë‚˜í•˜ë‚˜ í™•ì¸í•˜ë˜ì¤‘ ì–‘ë°©í–¥ ì—°ê´€ê´€ê³„ì¼ ê²½ìš° ì„œë¡œë¥¼ ì¡°íšŒí•˜ë ¤ê³  ê³„ì† ì™”ë‹¤ ê°”ë‹¤ í•˜ë©´ì„œ ë¬´í•œë£¨í”„ê°€ ìƒì„±ë˜ì–´ ë²„ë¦¼

```java
package jpabook.jpashop.api;

import jpabook.jpashop.domain.Order;
import jpabook.jpashop.repository.OrderRepository;
import jpabook.jpashop.repository.OrderSearch;
import lombok.RequiredArgsConstructor;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RestController;

import java.util.List;

/**
 * @ ~ ToOne ê´€ê³„ì—ì„œì˜ ì„±ëŠ¥ìµœì í™” ë°©ë²•
 * Order ì¡°íšŒ
 * Order - ì—°ê´€ê´€ê³„ -> Member
 * Order - ì—°ê´€ê´€ê³„ -> Delivery
 */
@RestController
@RequiredArgsConstructor
public class OrderSimpleApiController {

    private final OrderRepository orderRepository;

    @GetMapping("/api/v1/simple-orders")
    public List<Order> ordersV1 () {
        List<Order> all = this.orderRepository.findAllByCriteria(new OrderSearch());
        return all;
    }
}
```

<br>

ë¬´í•œë£¨í”„ë¥¼ í”¼í•˜ê¸° ìœ„í•´ì„œ Member ìª½ Orders ì— @JsonIgnore ë¥¼ ë‹¬ì•„ì¤Œ

- ì´ë ‡ê²Œ OrderItem ê³¼ Deliver ì—ë„ ë‹¬ì•„ì¤˜ì•¼í•¨

```java
package jpabook.jpashop.domain;

import com.fasterxml.jackson.annotation.JsonIgnore;
import lombok.Getter;
import lombok.NoArgsConstructor;
import lombok.Setter;

import javax.persistence.*;
import javax.validation.constraints.NotEmpty;
import java.util.ArrayList;
import java.util.List;

@Entity
@Getter @Setter
public class Member {

    @Id @GeneratedValue
    @Column (name = "member_id")
    private Long id;

    @NotEmpty
    private String name;

    @Embedded
    private Address address;

    @JsonIgnore
    @OneToMany (mappedBy = "member")
    private List<Order> orders = new ArrayList<>();
}
```

ì‹¤í–‰í•´ë³´ë©´ ë˜ë‹¤ë¥¸ ì˜¤ë¥˜ê°€ ë°œìƒëœë‹¤.

- Entity ì˜ ì§€ì—° ì²˜ë¦¬ ì„¤ì •ë•Œë¬¸ì— ë°œìƒí•œ ì˜¤ë¥˜ì´ë‹¤.
    - [ğŸ”—Â ì§€ì—° ë¡œë”©ì— ëŒ€í•´ì„œ](https://github.com/choideakook/TIL/blob/main/Spring/3%20JPA%20í™œìš©1/2%20ë„ë©”ì¸%20ë¶„ì„%20ì„¤ê³„/230105%202%20Entity%20ì„¤ê³„ì˜%20ì£¼ì˜ì .md)
- í•´ë‹¹ ì˜¤ë¥˜ëŠ” **Hibernate5JakartaModule ë¡œ í•´ê²°í•  ìˆ˜ ìˆì§€ë§Œ Entity ê°€ ì™¸ë¶€ë¡œ ë…¸ì¶œë˜ëŠ” ê·¼ë³¸ì ì¸ ë¬¸ì œì ê¹Œì§€ í•´ê²°í•  ìˆ˜ ì—†ë‹¤.**
    - ê·¸ëƒ¥ ì´ ë°©ë²•ì€ ì•ˆì“°ëŠ”ê²Œ ì •ì‹ ê±´ê°•ì— ì¢‹ì„ê²ƒê°™ë‹¤.

****
