# íšŒì› ìˆ˜ì • API

## âœï¸Â íšŒì› ìˆ˜ì •í•˜ê¸°

### ğŸ“Â íšŒì› ìˆ˜ì • Method ì™€ DTO ìƒì„±

[ğŸ”—Â @AllArgsConstructor](https://github.com/choideakook/TIL/blob/main/Spring/0%20Spring%20TIL/Lombok.md)

```java
		// íšŒì› ì •ë³´ ìˆ˜ì •
    // ì²«ë²ˆì§¸ Param : put Mapping ìœ¼ë¡œ ë°›ì•„ì˜¨ id ê°’ì„ res DTO ì— ë„˜ê²¨ ìˆ˜ì •í•  id ë¥¼ ì°¾ì•„ì˜´
    // ë‘ë²ˆì§¸ Param : req DTO ì—ì„œ ìˆ˜ì •ì„ ì›í•˜ëŠ” í•„ë“œë¥¼ ê°€ì ¸ì˜´
    @PutMapping("/api/v2/members/{id}")
    public UpdateMemberResponse updateMemberV2(
            @PathVariable("id") Long id,
            @RequestBody @Valid UpdateMemberRequest request){
        memberService.update(id, request.getName());
        // return ê°’ì„ ì¶©ì¡±ì‹œí‚¤ê¸° ìœ„í•œ ë¡œì§
				// update ë¡œì§ì—ì„œ id ì™€ name ì„ ë°˜í™˜ ì‹œí‚¬ ìˆ˜ ìˆì§€ë§Œ
				// ê·¸ë ‡ê²Œ ë˜ë©´ ì»¤ë§¨ë“œ, ì¿¼ë¦¬ êµ¬ë¶„ ì›ì¹™ì„ ì§€í‚¬ ìˆ˜ ì—†ê²Œë¨
        Member findMember = memberService.findOne(id);
        return new UpdateMemberResponse(findMember.getId(), findMember.getName());
    }

    // íšŒì› ìˆ˜ì • req DTO
    @Data
    static class UpdateMemberRequest {
        private String name;
    }

    // íšŒì› ìˆ˜ì • res DTO
    @Data
    @AllArgsConstructor // DTO ë‚´ì˜ ëª¨ë“  í•„ë“œê°’ì„ Param ìœ¼ë¡œ ê°–ëŠ” ìƒì„±ìê°€ ìƒì„±ë¨
    static class UpdateMemberResponse{
        private Long id;
        private String name;
    }
```

### ğŸ“Â MemberService.update ë¡œì§ ë§Œë“¤ê¸°

```java
// ë³€ê²½ê°ì§€ë¥¼ ì´ìš©í•œ ì •ë³´ ìˆ˜ì •
@Transactional
public void update(Longid, Stringname) {
    Membermember= memberRepository.findOne(id);
		member.setName(name);
}
```

<br>

## âœï¸Â Test ì‹¤í–‰

### ğŸ“Â íšŒì› ë“±ë¡

name í•„ë“œì— hello2 ë¥¼ send í•´ì„œ

id ê°’ì´ 2 ì¸ íšŒì›ì´ ë“±ë¡ë˜ì—ˆë‹¤.

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2023-01-11 á„‹á…©á„’á…® 2.13.27.png](%E1%84%92%E1%85%AC%E1%84%8B%E1%85%AF%E1%86%AB%20%E1%84%89%E1%85%AE%E1%84%8C%E1%85%A5%E1%86%BC%20API%20705fa1afefab47b198775560b3635879/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-01-11_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_2.13.27.png)

<br>

### ğŸ“Â ì •ë³´ ìˆ˜ì •

post man ìœ¼ë¡œ ë“±ë¡ëœ íšŒì›ì •ë³´ë¥¼ ìˆ˜ì •í•˜ê¸°

- post â†’ put
- url ìˆ˜ì •

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2023-01-11 á„‹á…©á„’á…® 2.59.35.png](%E1%84%92%E1%85%AC%E1%84%8B%E1%85%AF%E1%86%AB%20%E1%84%89%E1%85%AE%E1%84%8C%E1%85%A5%E1%86%BC%20API%20705fa1afefab47b198775560b3635879/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-01-11_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_2.59.35.png)

<br>

send ë¡œ ì‹¤í–‰ ì‹œí‚¤ë©´ ì •ìƒì ìœ¼ë¡œ ë°ì´í„°ê°€ ìˆ˜ì •ë˜ì—ˆë‹¤.

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2023-01-11 á„‹á…©á„’á…® 3.10.22.png](%E1%84%92%E1%85%AC%E1%84%8B%E1%85%AF%E1%86%AB%20%E1%84%89%E1%85%AE%E1%84%8C%E1%85%A5%E1%86%BC%20API%20705fa1afefab47b198775560b3635879/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-01-11_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_3.10.22.png)

<br>

intellij ì—ë„ ë³€ê²½ message ê°€ ì˜ ë‚˜ì˜¨ë‹¤.

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2023-01-11 á„‹á…©á„’á…® 3.11.23.png](%E1%84%92%E1%85%AC%E1%84%8B%E1%85%AF%E1%86%AB%20%E1%84%89%E1%85%AE%E1%84%8C%E1%85%A5%E1%86%BC%20API%20705fa1afefab47b198775560b3635879/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-01-11_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_3.11.23.png)