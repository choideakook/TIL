# HTTP API μ„¤κ³„ μμ‹

- HTTP API μ»¬λ ‰μ…
    - POST κΈ°λ° λ“±λ΅
    - νμ› κ΄€λ¦¬ API μ κ³µ
- HTTP API μ¤ν† μ–΄
    - PUT κΈ°λ° λ“±λ΅
    - μ •μ  μ»¨ν…μΈ  κ΄€λ¦¬, μ›κ²© νμΌ κ΄€λ¦¬
- HTML Form μ‚¬μ©
    - μ›Ή νμ΄μ§€ νμ› κ΄€λ¦¬
    - GET, POST λ§ μ§€μ›

<br>

## βοΈΒ API μ„¤κ³„ - POST μ™€ PUT μ μ°¨μ΄

### π“Β POST - μμ‹ μ‹ κ· μμ› λ“±λ΅

- ν΄λΌμ΄μ–ΈνΈλ” λ“±λ΅λ  λ¦¬μ†μ¤μ URL μ„ λ¨λ¥Έλ‹¤.
    - μ‹ κ· λ§΄λ²„ λ“±λ΅ β†’ POST /member
    - DB μ— λ“±λ΅λ  id (μ‹λ³„κ°’) μ€ μ„λ²„μ—μ„ μƒμ„±ν•κΈ° λ•λ¬Έμ— ν΄λΌμ΄μ–ΈνΈλ” μ‘λ‹µμ„ λ°›μ€ ν›„μ—μ•Ό μ‹λ³„κ°’μ„ μ• μ μλ‹¤.
    
    ```
    - μ‘λ‹µ λ©”μ‹μ§€ -
    HTTP/1.1 201 Created
    Location: /member/100
    ```
    
- μ»¬λ ‰μ… (Collection)
    - μ„λ²„κ°€ κ΄€λ¦¬ν•λ” λ¦¬μ†μ¤ λ””λ ‰ν† λ¦¬
    - μ„λ²„κ°€ λ¦¬μ†μ¤μ url μ„ μƒμ„±ν•κ³  κ΄€λ¦¬
    - Location: /member/100 μ—μ„ μ»¬λ ‰μ…μ€ /member μ΄ λ¶€λ¶„μ΄λ‹¤.

<br>

### π“Β PUT - μμ‹ νμΌ κ΄€λ¦¬ μ‹μ¤ν…

- νμΌμ„ λ“±λ΅ν•κΈ°μ„ν•΄ μ‹λ³„κ°’ (id) λ€μ‹  νμΌ λ…μ„ μ‚¬μ©ν•λ‹¤.
- νμΌλ…μ€ μ„λ²„κ°€ μ•„λ‹ ν΄λΌμ΄μ–ΈνΈκ°€ μ•κ³ μκΈ° λ•λ¬Έμ— POST λ¥Ό μ‚¬μ©ν•  μ μ—†λ‹¤.
    - νμΌ λ“±λ΅ β†’ PUT /files/{filename}
    - κΈ°μ΅΄μ— νμΌμ΄ μλ‹¤λ©΄ λ®μ–΄μ“°κΈ°
    - κΈ°μ΅΄μ— νμΌμ΄ μ—†λ‹¤λ©΄ μ‹ κ· λ“±λ΅
- μ΄ κ²½μ° POST μ κΈ°λ¥μ€ μ„μλ΅ μ§€μ •ν•  μ μλ‹¤.
    - μμ‹λ΅ νμΌ λ€λ‰ λ“±λ΅ β†’ POST /files

<br>

### π“Β PUT - μ‹ κ· μμ› λ“±λ΅μ νΉμ§•

- ν΄λΌμ΄μ–ΈνΈκ°€ λ¦¬μ†μ¤ URL μ„ μ•κ³  μμ–΄μ•Ό ν•λ‹¤.
    - PUT /files/image.jpg
    - ν΄λΌμ΄μ–ΈνΈκ°€ μ§μ ‘ λ¦¬μ†μ¤μ URL μ„ μ§€μ •ν•΄μ•Όν•¨
- μ¤ν† μ–΄ (Store)
    - ν΄λΌμ΄μ–ΈνΈκ°€ κ΄€λ¦¬ν•λ” λ¦¬μ†μ¤ μ €μ¥μ†
    - ν΄λΌμ΄μ–ΈνΈκ°€ λ¦¬μ†μ¤μ URL μ„ μ•κ³  κ΄€λ¦¬
    - PUT /files/image.jpg μ—μ„ μ¤ν† μ–΄λ” /files μ΄ λ¶€λ¶„μ΄λ‹¤.

<br>

### π“Β API μ‹ κ· μμ› λ“±λ΅Β μ •λ¦¬

- POST κΈ°λ° λ“±λ΅ (Collection)
    - μ„λ²„κ°€ κ΄€λ¦¬ν•λ” λ¦¬μ†μ¤ λ””λ ‰ν† λ¦¬
    - μ‹λ³„κ°’μ„ μ„λ²„κ°€ μƒμ„±ν•κΈ° λ•λ¬Έμ— μ”μ²­ url μ— μ‹λ³„κ°’μ΄ μ—†λ‹¤.
    - POST /collection
- PUT κΈ°λ° λ“±λ΅ (Store)
    - ν΄λΌμ΄μ–ΈνΈκ°€ κ΄€λ¦¬ν•λ” λ¦¬μ†μ¤ μ €μ¥μ†
    - λ“±λ΅ν•λ” νμΌμ μ •λ³΄λ¥Ό ν΄λΌμ΄μ–ΈνΈκ°€ κ°–κ³ μκΈ° λ•λ¬Έμ— url μ— μ‹λ³„ν•  μ μλ” νμΌ λ…μ„ ν¬ν•¨ν•΄μ•Ό ν•λ‹¤.
    - PUT /store/file.jpg
- μ‹¤λ¬΄μ—μ„λ” POST κΈ°λ°μ Collection μ„ μ£Όλ΅ μ‚¬μ©ν•λ‹¤.

<br>

## βοΈΒ HTML Form μ‚¬μ©

- HTML Form μ€ GET, POST λ§ μ§€μ›ν•λ‹¤.
    - μ»¨νΈλ΅¤ URI λ¥Ό μ‚¬μ©ν•΄μ„ λ‹¤λ¥Έ κΈ°λ¥μ„ μ‚¬μ©ν•΄μ•Ό ν•λ‹¤.
    - URI μ path μ—λ” λ…μ‚¬λ§μ„ μ‚¬μ©ν•΄μ•Ό ν•μ§€λ§ HTML Form μ μ ν•μ μΈ κΈ°λ¥μ„ λ³΄μ™„ν•κΈ° μ„ν•΄ λ™μ‚¬λ¥Ό μ‚¬μ©ν•  μ μλ‹¤.
        - POST μ /new, /edit, /delete β€¦
    - path μλ¦¬μ λ™μ‚¬λ΅ λ…λ…λ λ¶€λ¶„μ„ μ»¨νΈλ΅¤ URI λΌκ³ ν•λ‹¤.
- AJAX κ°™μ€ κΈ°μ μ„ μ‚¬μ©ν•΄μ„ ν•΄κ²° κ°€λ¥
- μ—¬κΈ°μ„λ” μμ HTML, HTML Form μ΄μ•ΌκΈ°
- GET, POST λ§ μ§€μ›ν•λ―€λ΅ μ μ•½μ΄ μμ

<br>

## βοΈΒ HTTP API μ„¤κ³„ μμ‹ μ •λ¦¬
μ°Έκ³ ν•λ©΄ μΆ‹μ€ URI μ„¤κ³„ κ°λ…

### 1. λ¬Έμ„ - Document

- λ‹¨μΌ κ°λ…
    - νμΌ ν•λ‚, κ°μ²΄ μΈμ¤ν„΄μ¤, DB row
    - μ) /member/100 , /files/file.jpg

### 2. μ»¬λ ‰μ… - Collection

- μ„λ²„κ°€ κ΄€λ¦¬ν•λ” λ¦¬μ†μ¤ directory
- μ„λ²„κ°€ λ¦¬μ†μ¤μ URI λ¥Ό μƒμ„±ν•κ³  κ΄€λ¦¬

### 3. μ¤ν† μ–΄ - Store

- ν΄λΌμ΄μ–ΈνΈκ°€ κ΄€λ¦¬ν•λ” μμ› μ €μ¥μ†
- ν΄λΌμ΄μ–ΈνΈκ°€ λ¦¬μ†μ¤μ URI λ¥Ό μ•κ³  κ΄€λ¦¬

### 4. μ»¨νΈλ΅¤λ¬ - Controller , μ»¨νΈλ΅¤ URI

- λ¬Έμ„, μ»¬λ™μ…, μ¤ν† μ–΄λ΅ ν•΄κ²°ν•κΈ° μ–΄λ ¤μ΄ μ¶”κ°€ ν”„λ΅μ„Έμ¤ μƒμ„±
- path μλ¦¬λ” λ…μ‚¬λ΅ λ…λ…ν•΄μ•Ό ν•μ§€λ§ λ™μ‚¬λ¥Ό μ§μ ‘ μ‚¬μ©ν•λ‹¤.
    - μ) POST /members/{id}/delete