# íšŒì› ê´€ë¦¬ ì˜ˆì € - ì›¹ MVC ê°œë°œ

## âœï¸Â í™ˆí™”ë©´ ì¶”ê°€

1. ì›¹ MVC ìš© controller Class ìƒì„±
2. @GetMapping ( â€ / â€ )
    1. Get mapping ì— / ê°€ ìˆì„ê²½ìš° main page ë¼ëŠ” ëœ»ì„
    2. static ì— index.html ë„ main page ì´ì§€ë§Œ Get mapping / ë³´ë‹¤ ìš°ì„ ìˆœìœ„ê°€ ë‚®ìŒ
3. method ë¥¼ ë§Œë“¤ê³  return ì— html íŒŒì¼ëª…ì„ ë„£ì–´ì¤Œ

```java
@Controller
public class HomeController {

    @GetMapping("/") // <- index.html ë³´ë‹¤ ìš°ì„ ìˆœìœ„ê°€ ë†’ìŒ
    public String home() {
        return "home";
    }

}
```

1. templates í´ë”ì— home.html íŒŒì¼ì„ ìƒì„±í›„ web page ì½”ë“œë¥¼ ë§Œë“¬
    - í•´ë“œë¼ì¸
    - text íšŒì›ê¸°ëŠ¥
    - link íšŒì› ê°€ì…
    - link íšŒì› ëª©ë¡

```html
<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">

<body>

<div class="container">
    <div>
        <h1>Hello Spring</h1>
        <p>íšŒì› ê¸°ëŠ¥</p>
        <p>
            <a href="/members/new">íšŒì› ê°€ì…</a>
            <a href="/members">íšŒì› ëª©ë¡</a>
        </p>
    </div>
</div>  <!-- /container -->
</body>
</html>
```

## âœï¸Â íšŒì› ê°€ì… ì¶”ê°€

1. member controller ì—ì„œ get mapping í•¨
    1. ë©”ì¸ í˜ì´ì§€ì— ë§Œë“  ë§í¬ë¡œ mapping í•´ì˜´

```java
@GetMapping("/members/new")  // <- ë°›ì•„ì˜¨ url
    public String createForm () {
        return "members/createMemberForm";  // <- ì¶œë ¥í•  html íŒŒì¼
    }
```

1. html ì½”ë“œ ì‘ì„±
    - ì‚¬ìš©ìê°€ ì…ë ¥í•œ ê°’ì„ form íƒœê·¸ë¥¼ ì´ìš©í•´ post ë°©ì‹ìœ¼ë¡œ method ì— ë³´ë‚´ì¤Œ
        - label  ì´ë¦„
        - ì´ë¦„ì„ ì…ë ¥í•  text field
        - db ì— ì €ì¥í•  butten

```html
<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">

<body>

<div class="container">

    <!--
    form : ê°’ì„ ì…ë ¥ ë°›ì„ ìˆ˜ ìˆëŠ” ì½”ë“œ
        input ì— ê°’ì´ ì…ë ¥ë˜ë©´ ê·¸ ê°’ì„ /members/new ì´ ê²½ë¡œë¡œ
        post ë°©ì‹ìœ¼ë¡œ ê°’ì„ ë„˜ê²¨ì¤Œ (Controller ì˜ @Postmapping ë§¤ì„œë“œ)
    -->
    <form action="/members/new" method="post">
        <div class="form-group">
            <label for="name">ì´ë¦„</label>
            <!--
            input ì—ì„œ ì‹¤ì§ˆì ìœ¼ë¡œ ê°’ì´ ì…ë ¥ë¨
            name : ì„œë²„ë¡œ ë„˜ì–´ê°€ë©´ì„œ name ì´ key ê°’ì´ ë¨
            -->
            <input type="text" id="name" name="name" placeholder="ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”">
        </div>
        <button type="submit">ë“±ë¡</button>
    </form>
</div>  <!-- /container -->
</body>
</html>
```

- intput ìœ¼ë¡œ ë°›ì€ ê°’ì„ form íƒœê·¸ë¥¼ ì´ìš©í•´ /members/new ì´ ê²½ë¡œë¥¼ Postmapping ìœ¼ë¡œ ë³´ë‚´ì¤Œ
1. member controller ì—ì„œ  post mapping
    - ìë™ìœ¼ë¡œ MemberForm ë§¤ì†Œë“œë¡œ name ê°’ì´ ë³´ë‚´ì§
    - form ì˜ name ì„ member ì˜ name ì— ë„£ì–´ì£¼ê³  join ìœ¼ë¡œ db ì— ì €ì¥í•¨

```java
//@PostMapping : html form íƒœê·¸ê°€ ë³´ë‚¸ ê°’ì„ ë°›ì•„ì˜´
    @PostMapping ("/members/new")
    public String create (MemberFom form){
        Member member = new Member ();
        member.setName(form.getName());

        memberService.join(member);
				// ë¦¬í„´ ê°’ìœ¼ë¡œ ë‹¤ì‹œ ë©”ì¸ page ë¡œ ëŒë ¤ë³´ëƒ„
        return "redirect:/";
    }
```

1. controller â†’ form ê°’ì„ ì§€ì •í•´ì¤„ class ë¥¼ ë§Œë“¤ì–´ì¤Œ (MemberForm)

```java
package hello.hellospring.controller;

// getter setter ë¡œ ë§Œë“¤ì–´ì¤Œ

public class MemberForm {
    private String name;

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }
}
```

### ğŸ’¡Â ì‘ë™ë˜ëŠ” ì›ë¦¬

1. í™ˆí™”ë©´ì˜ íšŒì›ê°€ì… ë§í¬ê°€ /member/new ë¡œ url ì„ ë³€ê²½í•¨
2. Get mapping ìœ¼ë¡œ í•´ë‹¹ url ì„ ë°›ì™€ method ë¥¼ ì‹¤í–‰ì‹œí‚´
3. method ì˜ ë¦¬í„´ ê°’ì´ html íŒŒì¼ë¡œ ì›¹ í˜ì´ì§€ë¥¼ ì¶œë ¥í•¨
4. ì¶œë ¥ëœ ì›¹í˜ì´ì§€ì˜ form íƒœê·¸ë¡œ ì‚¬ìš©ìê°€ ì…ë ¥í•œ ê°’ì„ /member/new ë¡œ ë³´ëƒ„
5. post mapping ìœ¼ë¡œ ê°’ì„ ë°›ì•„ì™€ í•´ë‹¹ method ë¥¼ ì‹¤í–‰í•¨
6. htmlì˜ form íƒœê·¸ì˜ name ê³¼ method ì˜ parameter ê°’ì¸ Memberform ì˜ ë³€ìˆ˜ name ì´ ì¼ì¹˜í•˜ë¯€ë¡œ ì‚¬ìš©ìê°€ ì…ë ¥í•œ ê°’ì´ ë³€ìˆ˜ name ì˜ ê°’ì´ë¨
7. member ì— í•´ë‹¹ ê°’ì„ set name í•´ì¤€í›„ join ìœ¼ë¡œ db ì— ì €ì¥í•¨
8. ë¦¬í„´ ê°’ìœ¼ë¡œ redirect:/ ë¥¼ ì…ë ¥í•´ ë‹¤ì‹œ ë©”ì¸í˜ì´ì§€ë¡œ ì´ë™ì‹œí‚´

## âš ï¸Â ì–´ë…¸í…Œì´ì…˜ ì •ë¦¬

@Getmapping : url ì£¼ì†Œë¥¼ ë°›ì•„ì™€ì„œ ì‹¤í–‰í•¨

@Postmapping : html ì˜ form ì´ ë³´ë‚¸ ê°’ì„ ë°›ì•„ì™€ì„œ ì‹¤í–‰í•¨
