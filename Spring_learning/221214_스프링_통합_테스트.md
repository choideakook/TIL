# ìŠ¤í”„ë§ í†µí•© í…ŒìŠ¤íŠ¸

ì•ì „ì— í–ˆì—ˆë˜ test ëŠ” db ë¥¼ ìì²´ ë©”ë¡œë¦¬ë¥¼ ì‚¬ìš©í•´ì„œ ì§„í–‰í•œ ë°©ì‹ì´ë¼ ìˆœìˆ˜ ìë°” ì½”ë“œë§Œìœ¼ë¡œë„ Test ê°€ ê°€ëŠ¥í–ˆì§€ë§Œ

ì§€ê¸ˆì²˜ëŸ¼ ë”°ë¡œ db ê°€ ìˆì„ê²½ìš° ì´ ë°©ì‹ìœ¼ë¡œ test í•˜ëŠ”ê±´ ë¬´ë¦¬ê°€ ìˆë‹¤.

## âœï¸1. Spring í†µí•© í…ŒìŠ¤íŠ¸ ë°©ë²• (DB í¬í•¨)

- db ê¹Œì§€ í†µí•©ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ë¥¼ í•˜ê¸°ìœ„í•´ Class ì— ì–´ë…¸í…Œì´ì…˜ì„ ë¶™ì—¬ì¤€ë‹¤
- ğŸ’¡Â @Transactional : test ë¥¼ ìœ„í•´ db ì— ì¶”ê°€ ëœ ê°’ì„ test ê°€ ëë‚˜ë©´ ì‚­ì œí•´ì¤Œ
    - @After each ì™€ ê°™ì€ ê¸°ëŠ¥ ì„ìœ¼ë¡œ after each ì½”ë“œëŠ” í•„ìš”ì—†ë‹¤.
    - Transactional ì´ ë¶™ì–´ìˆë”ë¼ë„ í˜¹ì‹œ db ì— ë°˜ì˜ë³´ê³  ì‹¶ì„ê²½ìš°ëŠ” í•´ë‹¹ Mesthod ì— @Commit ì„ ë¶™ì—¬ì£¼ë©´ ì‹¤ì œ db ì— ë°˜ì˜ì´ ëœë‹¤.

```java
@SpringBootTest
@Transactional
class MemberServiceIntegrationTest {
```

í…ŒìŠ¤íŠ¸ë¥¼ í•˜ê¸°ìœ„í•œ Class ë“¤ì„ ë¶ˆëŸ¬ì˜¨ë‹¤.

(memory member repository ë¥¼ í…ŒìŠ¤íŠ¸ í•˜ëŠ”ê²ƒì´ ì•„ë‹˜ìœ¼ë¡œ meber repository ë¥¼ ê°€ì ¸ì˜¨ë‹¤.)

```java
MemberService memberService;

MemberRepository MemberRepository;
```

- ê¸°ì¡´ test ì—ì„œëŠ” ì´ class ë“¤ì—ê²Œ before each ë¡œ ì–´ë…¸í…Œì´ì…˜ í•´ì„œ DI ë°©ì‹ìœ¼ë¡œ ì£¼ì…í•´ ì¤¬ë‹¤ë©´ í†µí•© test ì—ì„œëŠ” ì´ë ‡ê²Œ í•  í•„ìš” ì—†ì´ ë³€ìˆ˜ì— ë°”ë¡œ Auto wired í•´ì£¼ë©´ ëœë‹¤.

```java
@Autowired MemberService memberService;

@Autowired MemberRepository MemberRepository;
```

ì´í›„ ë‚´ìš©ë“¤ì€ ì•ì—ì„œ í–ˆì—ˆë˜ service test ì™€ ë™ì¼í•˜ë‹¤.

[Member Service Test](https://github.com/choideakook/choideakook.github.io/blob/master/_posts/-Boot/2022-12-05_3-ServiceTest.md)