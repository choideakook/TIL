# Stream

## âœï¸Â Stream ì˜ íŠ¹ì§•

ë‹¤ì–‘í•œ ë°ì´í„° ì†ŒìŠ¤ë¥¼ í‘œì¤€í™”ëœ ë°©ë²•ìœ¼ë¡œ ë‹¤ë£¨ê¸° ìœ„í•œ ê²ƒ

- ë°ì´í„° ì†ŒìŠ¤ : Collection (Set, List, Map) , Array â€¦

Stream ì€ ë°ì´í„° ì†ŒìŠ¤ë¡œ ë¶€í„° ë°ì´íŠ¸ë¥¼ ì½ê¸°ë§Œ í•  ë¿ ë³€ê²½í•˜ì§€ ì•ŠëŠ”ë‹¤.

- ì›ë³¸ì— ì˜í–¥ì„ ì£¼ì§€ì•ˆê³  ì‘ì—…ì„ í•  ìˆ˜ ìˆìŒ

ì¼íšŒì„±ìœ¼ë¡œ ì‚¬ìš© ê°€ëŠ¥í•˜ë©° ë‹¤ì‹œ í•„ìš”í•  ê²½ìš° ìŠ¤íŠ¸ë¦¼ì„ ìƒì„±í•´ì•¼ í•œë‹¤.

---

### ğŸ“Stream ì‘ë™ ê³¼ì •

ë°ì´í„° ì†ŒìŠ¤ â†’ Stream â†’ ì¤‘ê°„ ì—°ì‚° â†’ ìµœì¢…ì—°ì‚° (ê²°ê³¼)

```java
List<Integer> list = Arrays.asList(1, 2, 3, 4, 5, ... );

list.stream().  // ìŠ¤íŠ¸ë¦¼ ìƒì„±

.distinct().limit(3).sorted() // ì¤‘ê°„ì—°ì‚° (3ê°€ì§€ ì‘ì—… ì‹¤í–‰)

.forEach(System.out :: println) // ìµœì¢…ì—°ì‚° (í•œë²ˆë§Œ ì‹¤í–‰í•  ìˆ˜ ìˆìŒ)
```

## âš™ï¸Â Method 1. Stream ìƒì„±

### ğŸ“Â stream()

Collection ì„ stream ìœ¼ë¡œ ë³€í™˜ í•˜ëŠ” ê¸°ëŠ¥

```java
List<Integer> list = Arrays.asList(1, 2, 3, 4, 5);

Stream<Integer> strm = list.stream();
```

### ğŸ“Â of()

íŠ¹ì • ìš”ì†Œë¥¼ Stream ìœ¼ë¡œ ìƒì„±í•˜ëŠ” ê¸°ëŠ¥

```java
Stream<Integer> strm = Stream.of(1, 2, 3, 4);
```

### ğŸ“Â ê¸°ë³¸í˜• ìŠ¤íŠ¸ë¦¼ ( IntStream , LongStream, DoubleStream â€¦ )

ê¸°ë³¸í˜• data type ì„ ì‚¬ìš©í•  ìˆ˜ ì—†ê³  ê¼­ ì°¸ì¡°í˜• data type ë§Œ ì‚¬ìš©í•´ì•¼ í•˜ëŠ” stream ì˜ íŠ¹ì„±ìƒ íƒ€ì…ë³€í™˜ì„ í•´ì„œ ì‚¬ìš©í•´ì•¼í•˜ëŠ”ë°,

ì´ ë•Œ ê¸°ë³¸í˜• ìŠ¤íŠ¸ë¦¼ì„ ì‚¬ìš©í•˜ë©´ ì½”ë“œì˜ íš¨ìœ¨ê³¼ ê°€ë…ì„±ì„ ë†’í ìˆ˜ ìˆë‹¤.

```java
IntStream intstrm = IntStream.of(1, 2, 3, 4 );
```

---

## âš™ï¸Â Method 2. ì¤‘ê°„ ì—°ì‚°

ì—°ì‚°ê²°ê³¼ê°€ ìŠ¤íŠ¸ë¦¼ì¸ ì—°ì‚° (ë°˜ë³µì ìœ¼ë¡œ ì ìš©ê°€ëŠ¥)

### ğŸ“Â distinct()

Stream ì˜ ìš”ì†Œì¤‘ ì¤‘ë³µë˜ëŠ” ê°’ì„ ì œê±°í•˜ëŠ” ê¸°ëŠ¥

```java
List<Integer> list = Arrays.asList(1, 2, 2, 2, 3);

list.stream().distinct().forEach(System.out :: print);
// 123
```

### ğŸ“Â filter()

stream ì˜ index ë¥¼ ì¡°ê±´ì„ ë§Œë“¤ì–´ í•„í„°ë§ í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥

- filter() ëŠ” ê´„í˜¸ ì•ˆì˜ ë‚´ìš©ìœ¼ë¡œ ëŒë‹¤ì‹ì„ ì‚¬ìš©í•œë‹¤.

```java
List<String> list = Arrays.asList(
				"banana" , "apple", "are" , "cat"
);

List <String> a = list.stream()
				// startsWith : ì•ê¸€ìê°€ "a" ì¸ê²½ìš°ë§Œ true
				.filter(name -> name.startsWith("a"))
				.collect(Collectors.toList());

System.out.println(a);  // [apple, are]
```

### ğŸ“Â reduce()

stream ì˜ index ì´ í•©ì„ ê³„ì‚°í•˜ëŠ” ê¸°ëŠ¥

```java
List<Integer> list = Arrays.asList(1,2,3,4,5,6,7,8,9,10);

System.out.println(
				list.stream()
						.reduce((x,y) -> x + y).get()
);
```

### ğŸ“Â min() / max()

stream ì˜ index ì¤‘ ê°€ì¥ ì‘ì€ ê°’ê³¼ ê°€ì¥ í° ê°’ì„ ì°¾ì•„ì£¼ëŠ” ê¸°ëŠ¥

- min()

```java
List<Integer> list = Arrays.asList( 8, 3, 6, 12, 7, 2 );

System.out.println(
			list.stream()
					.min(Comparator.comparing(x ->x)).get()
); // 2
```

- max()

```java
List<Integer> list = Arrays.asList( 8, 3, 6, 12, 7, 2 );

System.out.println(
			list.stream()
					.max(Comparator.comparing(x ->x)).get()
); // 12
```

### ğŸ“Â parallel()

ëŒ€ìš©ëŸ‰ stream ì„ ë³‘ë ¬ë¡œ ë³€ê²½í•´ ì‘ì—…ì˜ íš¨ìœ¨ì„ ë†’íˆëŠ” ê¸°ëŠ¥

- stream ë’¤ì— ë¶™ì—¬ì£¼ê³  ë‹¤ìŒë¶€í„°ëŠ” ë™ì¼í•˜ê²Œ ì‘ì—…í•˜ë©´ ë¨

```java
stream.parallel()  // <- ë³‘ë ¬ë¡œ ë³€ê²½
.distinct().limit(5000).sorted()
.forEach(System.out :: println)
```

---

## âš™ï¸Â Method 3. ìµœì¢… ì—°ì‚°

ì—°ì‚°ê²°ê³¼ê°€ ìŠ¤íŠ¸ë¦¼ì´ ì•„ë‹Œ ì—°ì‚° (ë‹¨ í•œë²ˆë§Œ ì‚¬ìš©ê°€ëŠ¥í•˜ë©° ìŠ¤íŠ¸ë¦¼ ìš”ì†Œë¥¼ ì†Œëª¨í•¨)

### ğŸ“Â forEach()

ëª¨ë“  ìš”ì†Œë¥¼ return í•œí›„ stream ì„ ì¢…ë£Œí•˜ëŠ” ê¸°ëŠ¥

- for ë¬¸ì˜ ê¸°ëŠ¥ê³¼ ë™ì¼í•´ ìš”ì•½í•´ë†¨ë‹¤ê³  ìƒê°í•˜ë©´ë¨

```java
List<Integer> list = Arrays.asList(1, 2, 3, 4, 5);

Stream<Integer> strm = list.stream();

strm.forEach(System.out :: print); //12345

//-----  ì•„ë˜ ì½”ë“œì™€ ë™ì¼í•œ ê¸°ëŠ¥  ---------------//        

for (Integer i : list)
		System.out.print(i); //12345
```

### ğŸ“Â count()

stream ë‚´ ìš”ì†Œì˜ ê°¯ìˆ˜ë¥¼ return í•˜ëŠ” ê¸°ëŠ¥ 

```java
List<String> list = Arrays.asList(
                "book", "desk", "keyboard", "mouse", "cup"
        );

        int count = (int) list.stream()  // ìŠ¤íŠ¸ë¦¼ ìƒì„±
                .filter(w -> w.contains("o")) // í•„í„°ë§
                .count();  // index ê°¯ìˆ˜ í™•ì¸

        System.out.println(count);  // 3
```

### ğŸ“Â collect(Collectors. )

stream ì˜ ì¤‘ê°„ì—°ì‚°ì„ ê±°ì¹œ index ë“¤ì„ ì›í•˜ëŠ” í˜•íƒœë¡œ íŒŒì‹±í•´ì£¼ëŠ” ê¸°ëŠ¥

- Collectors.toList()

```java
List<String> list = Arrays.asList(
				"banana" , "apple", "are" , "cat"
);

List <String> a = list.stream()
				.filter(name -> name.startsWith("a"))
				.collect(Collectors.toList());

System.out.println(a); // [apple, are]
```

- Collectors.joining()

```java
List<String> list = Arrays.asList(
                "banana" , "apple", "are" , "cat"
        );

        System.out.println(
                list.stream()
                        .filter(name -> name.startsWith("a"))
                        .collect(Collectors.joining(", "))
        ); // apple, are
```